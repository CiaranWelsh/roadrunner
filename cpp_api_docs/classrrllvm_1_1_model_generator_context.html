<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>libRoadRunner C++ API: rrllvm::ModelGeneratorContext Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libRoadRunner C++ API
   &#160;<span id="projectnumber">1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>rrllvm</b></li><li class="navelem"><a class="el" href="classrrllvm_1_1_model_generator_context.html">ModelGeneratorContext</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classrrllvm_1_1_model_generator_context-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rrllvm::ModelGeneratorContext Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_model_generator_context_8h_source.html">ModelGeneratorContext.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a919c325824a9e6bf548e9611420c1e83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1_model_generator_context.html#a919c325824a9e6bf548e9611420c1e83">ModelGeneratorContext</a> (std::string const &amp;sbml, unsigned loadSBMLOptions)</td></tr>
<tr class="separator:a919c325824a9e6bf548e9611420c1e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8576e437ff1b8d0791227428bc598ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1_model_generator_context.html#aa8576e437ff1b8d0791227428bc598ac">ModelGeneratorContext</a> (libsbml::SBMLDocument const *doc, unsigned loadSBMLOptions)</td></tr>
<tr class="separator:aa8576e437ff1b8d0791227428bc598ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a619188b61652e3b93638b53fc5d015d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1_model_generator_context.html#a619188b61652e3b93638b53fc5d015d7">ModelGeneratorContext</a> ()</td></tr>
<tr class="separator:a619188b61652e3b93638b53fc5d015d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a768168c0c3814a38050ebf2275fe6432"><td class="memItemLeft" align="right" valign="top">llvm::Module *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1_model_generator_context.html#a768168c0c3814a38050ebf2275fe6432">getModule</a> () const </td></tr>
<tr class="separator:a768168c0c3814a38050ebf2275fe6432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc66291897a7f353ef89956fe5d207d"><td class="memItemLeft" align="right" valign="top">llvm::FunctionPassManager *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1_model_generator_context.html#a0bc66291897a7f353ef89956fe5d207d">getFunctionPassManager</a> () const </td></tr>
<tr class="separator:a0bc66291897a7f353ef89956fe5d207d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad632eeb182cc275fb5679a022544da9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1_model_generator_context.html#ad632eeb182cc275fb5679a022544da9a">stealThePeach</a> (const <a class="el" href="classrrllvm_1_1_l_l_v_m_model_data_symbols.html">LLVMModelDataSymbols</a> **sym, const llvm::LLVMContext **ctx, const llvm::ExecutionEngine **eng, const Random **random, const std::string **errStr)</td></tr>
<tr class="separator:ad632eeb182cc275fb5679a022544da9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8329a05917a06b3b18b2b1f0e6c505f"><td class="memItemLeft" align="right" valign="top">Random *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrrllvm_1_1_model_generator_context.html#ab8329a05917a06b3b18b2b1f0e6c505f">getRandom</a> () const </td></tr>
<tr class="separator:ab8329a05917a06b3b18b2b1f0e6c505f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>All LLVM code generating objects basically need at a minimum three things to operate:</p>
<p>1: sbml Model - what to process 2: llvm Context - all llvm functions need this, manages llvm memory 3: llvm Module - where the generated code will go</p>
<p>Code generators also need to know the symbols that are in the sbml doc. These <em>could</em> be re-determined in each code gen, but wastefull. The symbols can be thought of as the first pass of the compiler, so all symbols are determined ahead of time before any code generation.</p>
<p>They also make use of an llvm IRBuilder, one of these <em>could</em> be allocated in each code gen object, but that would be wastefull, so we use a single one per sbml compilation, and each code gen just resets the builder insert point, that is what is was designed to do.</p>
<p>So, that leaves us with 5 object that are needed by code generators. Should all code gens have all 5 args passed to thier ctors? There is much talk about how context objects are evil, however this one is NOT inteneded to grow, only store the absolute minimun information that all code generators need.</p>
<p>This class basically functions as a set of ivars if all code generators were methods on a single code gen class.</p>
<p>TODO doc wise discuss the problems with context objects, and why this one address all the concerns.</p>
<p>TODO document memory managment, engine owns model, ... </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a919c325824a9e6bf548e9611420c1e83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rrllvm::ModelGeneratorContext::ModelGeneratorContext </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>sbml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>loadSBMLOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>load the sbml document from a string. </p>

</div>
</div>
<a class="anchor" id="aa8576e437ff1b8d0791227428bc598ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rrllvm::ModelGeneratorContext::ModelGeneratorContext </td>
          <td>(</td>
          <td class="paramtype">libsbml::SBMLDocument const *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>loadSBMLOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>attach to an existing sbml document, we borrow a reference to this doc and DO NOT take ownership of it. </p>

</div>
</div>
<a class="anchor" id="a619188b61652e3b93638b53fc5d015d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rrllvm::ModelGeneratorContext::ModelGeneratorContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>does not attach to any sbml doc,</p>
<p>useful for testing out LLVM functionality. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0bc66291897a7f353ef89956fe5d207d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llvm::FunctionPassManager * rrllvm::ModelGeneratorContext::getFunctionPassManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>if optimization is enabled, this gets the function pass manager loaded with all the requested optimizers. NULL if no optimization is specified. </p>

</div>
</div>
<a class="anchor" id="a768168c0c3814a38050ebf2275fe6432"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llvm::Module * rrllvm::ModelGeneratorContext::getModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nearly all llvm functions expect a pointer to module, so we define this as a pointer type instead of reference, even though we gaurantee this to be non-null </p>

</div>
</div>
<a class="anchor" id="ab8329a05917a06b3b18b2b1f0e6c505f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Random * rrllvm::ModelGeneratorContext::getRandom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get a pointer to the random object.</p>
<p>The random object exists if the document has the distrib package, is null otherwise. </p>

</div>
</div>
<a class="anchor" id="ad632eeb182cc275fb5679a022544da9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rrllvm::ModelGeneratorContext::stealThePeach </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrrllvm_1_1_l_l_v_m_model_data_symbols.html">LLVMModelDataSymbols</a> **&#160;</td>
          <td class="paramname"><em>sym</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const llvm::LLVMContext **&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const llvm::ExecutionEngine **&#160;</td>
          <td class="paramname"><em>eng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Random **&#160;</td>
          <td class="paramname"><em>random</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string **&#160;</td>
          <td class="paramname"><em>errStr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A lot can go wrong in the process of generating a model from an sbml doc. This class is intended to be stack allocated, so when any exception is thrown in the course of model generation, this class will clean up all the contexts and execution engines and so forth.</p>
<p>However, when a model is successfully generated, we need a way to give it the exec engine, and whatever other bits it requires.</p>
<p>So, this method exists so that the generated model can steal all the objects it needs from us, these object are transfered to the model, and our pointers to them are cleared.</p>
<p>Monkey steals the peach &ndash; A martial arts technique mastered by Michael Wu which is in effect, the act of ripping someone's bollocks off. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>llvm/<a class="el" href="_model_generator_context_8h_source.html">ModelGeneratorContext.h</a></li>
<li>llvm/ModelGeneratorContext.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 16 2017 11:08:43 for libRoadRunner C++ API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
